{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\n\nvar startHardwareBackButton = function startHardwareBackButton() {\n  var doc = document;\n  var busy = false;\n  doc.addEventListener('backbutton', function () {\n    if (busy) {\n      return;\n    }\n\n    var index = 0;\n    var handlers = [];\n    var ev = new CustomEvent('ionBackButton', {\n      bubbles: false,\n      detail: {\n        register: function register(priority, handler) {\n          handlers.push({\n            priority: priority,\n            handler: handler,\n            id: index++\n          });\n        }\n      }\n    });\n    doc.dispatchEvent(ev);\n\n    var executeAction = function executeAction(handlerRegister) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var result, e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              _a.trys.push([0, 3,, 4]);\n\n              if (!(handlerRegister && handlerRegister.handler)) return [3\n              /*break*/\n              , 2];\n              result = handlerRegister.handler(processHandlers);\n              if (!(result != null)) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , result];\n\n            case 1:\n              _a.sent();\n\n              _a.label = 2;\n\n            case 2:\n              return [3\n              /*break*/\n              , 4];\n\n            case 3:\n              e_1 = _a.sent();\n              console.error(e_1);\n              return [3\n              /*break*/\n              , 4];\n\n            case 4:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    var processHandlers = function processHandlers() {\n      if (handlers.length > 0) {\n        var selectedHandler_1 = {\n          priority: Number.MIN_SAFE_INTEGER,\n          handler: function handler() {\n            return undefined;\n          },\n          id: -1\n        };\n        handlers.forEach(function (handler) {\n          if (handler.priority >= selectedHandler_1.priority) {\n            selectedHandler_1 = handler;\n          }\n        });\n        busy = true;\n        handlers = handlers.filter(function (handler) {\n          return handler.id !== selectedHandler_1.id;\n        });\n        executeAction(selectedHandler_1).then(function () {\n          return busy = false;\n        });\n      }\n    };\n\n    processHandlers();\n  });\n};\n\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\n\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };","map":{"version":3,"sources":["C:/Users/Nick/Desktop/LED-Helmet-Cosplay-Companion/cosplay-companion/node_modules/@ionic/core/dist/esm-es5/hardware-back-button-7b6ede21.js"],"names":["__awaiter","__generator","startHardwareBackButton","doc","document","busy","addEventListener","index","handlers","ev","CustomEvent","bubbles","detail","register","priority","handler","push","id","dispatchEvent","executeAction","handlerRegister","result","e_1","_a","label","trys","processHandlers","sent","console","error","length","selectedHandler_1","Number","MIN_SAFE_INTEGER","undefined","forEach","filter","then","OVERLAY_BACK_BUTTON_PRIORITY","MENU_BACK_BUTTON_PRIORITY"],"mappings":"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","sourcesContent":["import { __awaiter, __generator } from \"tslib\";\r\nvar startHardwareBackButton = function () {\r\n    var doc = document;\r\n    var busy = false;\r\n    doc.addEventListener('backbutton', function () {\r\n        if (busy) {\r\n            return;\r\n        }\r\n        var index = 0;\r\n        var handlers = [];\r\n        var ev = new CustomEvent('ionBackButton', {\r\n            bubbles: false,\r\n            detail: {\r\n                register: function (priority, handler) {\r\n                    handlers.push({ priority: priority, handler: handler, id: index++ });\r\n                }\r\n            }\r\n        });\r\n        doc.dispatchEvent(ev);\r\n        var executeAction = function (handlerRegister) { return __awaiter(void 0, void 0, void 0, function () {\r\n            var result, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 3, , 4]);\r\n                        if (!(handlerRegister && handlerRegister.handler)) return [3 /*break*/, 2];\r\n                        result = handlerRegister.handler(processHandlers);\r\n                        if (!(result != null)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, result];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        console.error(e_1);\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        var processHandlers = function () {\r\n            if (handlers.length > 0) {\r\n                var selectedHandler_1 = {\r\n                    priority: Number.MIN_SAFE_INTEGER,\r\n                    handler: function () { return undefined; },\r\n                    id: -1\r\n                };\r\n                handlers.forEach(function (handler) {\r\n                    if (handler.priority >= selectedHandler_1.priority) {\r\n                        selectedHandler_1 = handler;\r\n                    }\r\n                });\r\n                busy = true;\r\n                handlers = handlers.filter(function (handler) { return handler.id !== selectedHandler_1.id; });\r\n                executeAction(selectedHandler_1).then(function () { return busy = false; });\r\n            }\r\n        };\r\n        processHandlers();\r\n    });\r\n};\r\nvar OVERLAY_BACK_BUTTON_PRIORITY = 100;\r\nvar MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays\r\nexport { MENU_BACK_BUTTON_PRIORITY, OVERLAY_BACK_BUTTON_PRIORITY, startHardwareBackButton };\r\n"]},"metadata":{},"sourceType":"module"}