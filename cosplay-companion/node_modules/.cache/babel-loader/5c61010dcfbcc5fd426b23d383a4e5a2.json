{"ast":null,"code":"import React from'react';import{IonButton}from'@ionic/react';import{BluetoothSerial}from'@ionic-native/bluetooth-serial';export var bluetoothComponent={macAddress:'B8:27:EB:C8:32:3B',sendText:\"Test\",setMAC:function setMAC(MAC){bluetoothComponent.macAddress=MAC;console.log(\"Given MAC Address: \"+bluetoothComponent.macAddress);},onClick:function onClick(){var isClicked=\"true\";bluetoothComponent.sendText='hello world';window.localStorage.setItem(\"sendText\",bluetoothComponent.sendText);window.localStorage.setItem(\"isClicked\",isClicked);window.location.reload();bluetoothComponent.init();},init:function init(){console.log(\"Initializing bluetooth connection...\");bluetoothComponent.bindEvents();},bindEvents:function bindEvents(){document.addEventListener('findDevice',bluetoothComponent.connectBluetooth,false);bluetoothComponent.connectBluetooth();},connectBluetooth:function connectBluetooth(){BluetoothSerial.connect(bluetoothComponent.macAddress);if(BluetoothSerial.isEnabled()){bluetoothComponent.onConnect();}else{bluetoothComponent.onDisconnect();}},onConnect:function onConnect(){alert(\"Connected to device with MAC address: \"+bluetoothComponent.macAddress+\".\");BluetoothSerial.subscribe('\\n');var data='This is a test string';bluetoothComponent.sendData(data);},onDisconnect:function onDisconnect(){alert(\"Device has been disconnected\");},sendData:function sendData(data){BluetoothSerial.write(data);bluetoothComponent.sendText=data;},listDevices:function listDevices(){BluetoothSerial.list();},connectFailed:function connectFailed(){alert(\"Connection to device failed!\");},onError:function onError(errorMsg){console.log('Error: '+errorMsg+'\\n');},testRender:function testRender(){var isClicked=window.localStorage.getItem(\"isClicked\");var testText=window.localStorage.getItem(\"sendText\");console.log(\"isClicked: \"+isClicked);console.log(\"bluetoothComponent.sendText: \"+bluetoothComponent.sendText);if(isClicked===\"true\"){return/*#__PURE__*/React.createElement(\"div\",{className:\"sentDataTest\"},\" Test: \",testText);}else{return/*#__PURE__*/React.createElement(\"div\",null,\"Test: No text available yet\");}}};var BluetoothButton=function BluetoothButton(_ref){var title=_ref.title;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\",id:\"container\"},/*#__PURE__*/React.createElement(\"strong\",null,title),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(IonButton,{color:\"primary\",size:\"large\",onClick:bluetoothComponent.onClick},\"Connect to Device\")));};export default BluetoothButton;","map":{"version":3,"sources":["C:/Users/Nick/Desktop/LED-Helmet-Cosplay-Companion/cosplay-companion/src/components/BluetoothButton.tsx"],"names":["React","IonButton","BluetoothSerial","bluetoothComponent","macAddress","sendText","setMAC","MAC","console","log","onClick","isClicked","window","localStorage","setItem","location","reload","init","bindEvents","document","addEventListener","connectBluetooth","connect","isEnabled","onConnect","onDisconnect","alert","subscribe","data","sendData","write","listDevices","list","connectFailed","onError","errorMsg","testRender","getItem","testText","BluetoothButton","title"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { IonButton } from '@ionic/react';\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial';\r\n\r\nexport let bluetoothComponent = {\r\n  macAddress: 'B8:27:EB:C8:32:3B',\r\n  sendText: \"Test\",\r\n\r\n  setMAC: function(MAC:string) {\r\n    bluetoothComponent.macAddress = MAC;\r\n    console.log(\"Given MAC Address: \" + bluetoothComponent.macAddress)\r\n  },\r\n\r\n  onClick: function() {\r\n    let isClicked = \"true\"\r\n    bluetoothComponent.sendText = 'hello world'\r\n    window.localStorage.setItem(\"sendText\", bluetoothComponent.sendText)\r\n    window.localStorage.setItem(\"isClicked\", isClicked)\r\n    window.location.reload()\r\n    bluetoothComponent.init()\r\n  },\r\n\r\n  init: function() {\r\n    console.log(\"Initializing bluetooth connection...\")\r\n    bluetoothComponent.bindEvents()\r\n  },\r\n\r\n  bindEvents: function() {\r\n    document.addEventListener('findDevice', bluetoothComponent.connectBluetooth, false)\r\n    bluetoothComponent.connectBluetooth()\r\n  },\r\n\r\n  connectBluetooth: function() {\r\n    BluetoothSerial.connect(bluetoothComponent.macAddress)\r\n    if (BluetoothSerial.isEnabled()) {\r\n      bluetoothComponent.onConnect()\r\n    }\r\n    else {\r\n      bluetoothComponent.onDisconnect()\r\n    }\r\n  },\r\n\r\n  onConnect: function() {\r\n    alert(\"Connected to device with MAC address: \" + bluetoothComponent.macAddress + \".\")\r\n    BluetoothSerial.subscribe('\\n')\r\n    let data:string = 'This is a test string'\r\n    bluetoothComponent.sendData(data)\r\n  },\r\n\r\n  onDisconnect: function() {\r\n    alert(\"Device has been disconnected\")\r\n  },\r\n\r\n  sendData: function(data:string) {\r\n    BluetoothSerial.write(data)\r\n    bluetoothComponent.sendText = data\r\n  },\r\n\r\n  listDevices: function() {\r\n    BluetoothSerial.list()\r\n  },\r\n\r\n  connectFailed: function() {\r\n    alert(\"Connection to device failed!\")\r\n  },\r\n\r\n  onError: function(errorMsg:string) {\r\n    console.log('Error: ' + errorMsg + '\\n')\r\n  },\r\n\r\n  testRender: function() {\r\n\r\n    let isClicked = window.localStorage.getItem(\"isClicked\")\r\n    let testText = window.localStorage.getItem(\"sendText\")\r\n\r\n    console.log(\"isClicked: \" + isClicked)\r\n    console.log(\"bluetoothComponent.sendText: \" + bluetoothComponent.sendText)\r\n\r\n    if (isClicked === \"true\")\r\n    {\r\n      return( <div className=\"sentDataTest\"> Test: {testText}\r\n      </div> )\r\n    }\r\n    else\r\n    {\r\n      return ( <div>Test: No text available yet</div> )\r\n    }\r\n    \r\n  }\r\n};\r\n\r\ninterface ContainerProps {\r\n    title: string;\r\n  }\r\n  \r\n  const BluetoothButton: React.FC<ContainerProps> = ({ title }) => {   \r\n    return (\r\n      <div className=\"container\" id=\"container\">\r\n        <strong>{title}</strong>\r\n            <p>\r\n                <IonButton color=\"primary\" size=\"large\" onClick={bluetoothComponent.onClick}>Connect to Device</IonButton>\r\n            </p>\r\n      </div>\r\n    );\r\n\r\n  };\r\n  \r\n  export default BluetoothButton;"]},"metadata":{},"sourceType":"module"}